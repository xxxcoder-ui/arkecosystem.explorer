(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Z6T1:function(e,t,a){"use strict";a.r(t);var s=a("o0o1"),n=a.n(s),r=a("yXPU"),o=a.n(r),i=a("kJ2r"),l={data:function(){return{delegate:null,wallets:null,meta:null,currentPage:0}},computed:{showPagination:function(){return this.meta&&this.meta.pageCount>1},address:function(){return this.$route.params.address},sortParams:{get:function(){return this.$store.getters["ui/walletSortParams"]},set:function(e){this.$store.dispatch("ui/setWalletSortParams",{field:e.field,type:e.type})}}},watch:{currentPage:function(){this.changePage()}},beforeRouteEnter:function(){var e=o()(n.a.mark(function e(t,a,s){var r,o,l,u;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.find(t.params.address);case 3:return r=e.sent,e.next=6,i.a.voters(t.params.address,t.params.page);case 6:o=e.sent,l=o.meta,u=o.data,s(function(e){e.currentPage=Number(t.params.page),e.setDelegate(r),e.setWallets(u),e.setMeta(l)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),s({name:"404"});case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a,s){return e.apply(this,arguments)}}(),beforeRouteUpdate:function(){var e=o()(n.a.mark(function e(t,a,s){var r,o,l,u;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.wallets=null,this.meta=null,e.prev=2,e.next=5,i.a.find(t.params.address);case 5:return r=e.sent,e.next=8,i.a.voters(t.params.address,t.params.page);case 8:o=e.sent,l=o.meta,u=o.data,this.currentPage=Number(t.params.page),this.setDelegate(r),this.setWallets(u),this.setMeta(l),s(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),s({name:"404"});case 21:case"end":return e.stop()}},e,this,[[2,18]])}));return function(t,a,s){return e.apply(this,arguments)}}(),methods:{setDelegate:function(e){this.delegate=e},setWallets:function(e){this.wallets=e},setMeta:function(e){this.meta=e},onPageChange:function(e){this.currentPage=e},changePage:function(e){this.$router.push({name:"wallet-voters",params:{address:this.address,page:this.currentPage}})},onSortChange:function(e){this.sortParams=e}}},u=a("KHd+"),c=Object(u.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-w-2xl mx-auto md:pt-5"},[a("ContentHeader",[e._v(e._s(e.$t("WALLET.DELEGATE.VOTERS"))+" "),e.delegate?a("span",[e._v("- "+e._s(e.delegate.username))]):e._e()]),e._v(" "),a("section",{staticClass:"page-section py-5 md:py-10"},[a("div",{staticClass:"hidden sm:block"},[a("TableWalletsDesktop",{attrs:{wallets:e.wallets,total:e.delegate?e.delegate.votes:0,"sort-query":e.sortParams},on:{"on-sort-change":e.onSortChange}})],1),e._v(" "),a("div",{staticClass:"sm:hidden"},[a("TableWalletsMobile",{attrs:{wallets:e.wallets,total:e.delegate?e.delegate.votes:0}})],1),e._v(" "),e.showPagination?a("Pagination",{attrs:{meta:e.meta,"current-page":e.currentPage},on:{"page-change":e.onPageChange}}):e._e()],1)],1)},[],!1,null,null,null);t.default=c.exports}}]);